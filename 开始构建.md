# 🚀 开始构建 Android APK

## ✅ 配置已完成！

你的项目已经成功配置：
- ✅ EAS 项目已创建
- ✅ 项目 ID: `bb79719f-35ea-4a06-b6b3-bbbb364a30e4`
- ✅ 已登录账号: `bettydreamit`
- ✅ 项目链接: https://expo.dev/accounts/bettydreamit/projects/cloudflare-analytics

---

## 🎯 现在开始构建

### 运行构建命令：

```bash
cd cloudflare-analytics
eas build --platform android --profile preview
```

### 构建过程中会询问：

#### 1️⃣ 生成 Android Keystore
```
? Generate a new Android Keystore? (Y/n)
```
**选择**: `Y` (Yes)

这会自动生成签名密钥，用于签名你的 APK。

#### 2️⃣ 等待构建
- 代码会上传到 Expo 云端
- 构建过程约 10-20 分钟
- 可以关闭终端，构建会继续

#### 3️⃣ 构建完成
你会看到类似的输出：
```
✅ Build finished
📦 APK: https://expo.dev/artifacts/eas/...
```

---

## 📥 下载 APK

### 方式 1: 命令行下载
```bash
eas build:download
```

### 方式 2: 网页下载
访问: https://expo.dev/accounts/bettydreamit/projects/cloudflare-analytics/builds

---

## 🔑 关于 Keystore

### 什么是 Keystore？
- Android 应用签名密钥
- 用于验证应用的真实性
- 每个应用只需生成一次

### 重要提示
- ✅ 首次构建选择 "Yes" 生成新密钥
- ✅ Expo 会自动保存密钥
- ✅ 后续构建会自动使用相同密钥
- ⚠️ 不要手动管理密钥（Expo 会处理）

---

## 📱 完整流程

```bash
# 1. 进入项目目录
cd cloudflare-analytics

# 2. 开始构建
eas build --platform android --profile preview

# 3. 选择生成新密钥
# 提示: Generate a new Android Keystore? 
# 输入: Y

# 4. 等待构建完成（10-20分钟）
# 可以访问 https://expo.dev 查看进度

# 5. 下载 APK
eas build:download

# 6. 安装到 Android 设备
# 传输 APK 到手机并安装
```

---

## 🎉 快速命令

```bash
# 开始构建
npm run build:android

# 查看构建状态
eas build:list

# 下载最新构建
eas build:download

# 查看项目信息
eas project:info
```

---

## 📊 查看构建进度

### 在终端查看
构建开始后，终端会显示实时进度

### 在网页查看
访问: https://expo.dev/accounts/bettydreamit/projects/cloudflare-analytics/builds

可以看到：
- 构建状态
- 构建日志
- 下载链接
- 构建历史

---

## ⚠️ 常见问题

### Q: 为什么需要生成 Keystore？
A: Android 要求所有 APK 必须签名。Keystore 是签名密钥。

### Q: Keystore 会丢失吗？
A: 不会。Expo 会自动保存在云端，你不需要管理。

### Q: 可以跳过生成 Keystore 吗？
A: 不可以。这是 Android 的强制要求。

### Q: 构建失败怎么办？
A: 查看错误信息，通常是网络问题。重新运行构建命令即可。

### Q: 可以取消构建吗？
A: 可以。按 `Ctrl+C` 取消，但云端构建会继续。

---

## 💡 提示

1. **首次构建**
   - 需要生成 Keystore（选择 Yes）
   - 上传代码需要一些时间
   - 总时间约 15-25 分钟

2. **后续构建**
   - 会自动使用已有的 Keystore
   - 构建时间约 10-15 分钟

3. **网络要求**
   - 需要稳定的网络连接
   - 上传代码约 50-100MB

4. **构建队列**
   - 免费账号可能需要排队
   - 通常等待时间 < 5 分钟

---

## 🚀 准备好了吗？

运行这个命令开始构建：

```bash
cd cloudflare-analytics
eas build --platform android --profile preview
```

当提示生成 Keystore 时，输入 `Y` 并回车。

然后等待构建完成，就可以下载 APK 了！

**祝构建顺利！** 🎊

---

## 📞 需要帮助？

- 查看构建日志: https://expo.dev
- Expo 文档: https://docs.expo.dev/build/setup/
- 构建状态: `eas build:list`

---

**项目**: Cloudflare Analytics
**账号**: bettydreamit
**项目 ID**: bb79719f-35ea-4a06-b6b3-bbbb364a30e4
